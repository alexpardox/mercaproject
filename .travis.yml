language: java

# Especifica la versi√≥n de Java
jdk:
  - openjdk17

# Sistema operativo
os: linux
dist: focal

# Cache para Maven dependencies
cache:
  directories:
    - $HOME/.m2

# Variables de entorno m√≠nimas para Travis
env:
  global:
    - MAVEN_OPTS="-Xmx1024m"

# Comandos antes de ejecutar el script
before_script:
  - echo "Configurando entorno de pruebas..."
  - echo "Java version:"
  - java -version
  - echo "Maven version:"
  - mvn -version

# Script principal - Solo test b√°sico sin dependencias
script:
  - echo "üß™ Ejecutando test s√∫per simple..."
  - mvn test -Dtest="SimpleTest"
  - echo "‚úÖ Test b√°sico completado"

# Solo mensaje de √©xito
after_success:
  - echo "‚úÖ Test b√°sico completado exitosamente en Travis CI!"

# En caso de fallo
after_failure:
  - echo "‚ùå El test b√°sico fall√≥"
  - echo "Revisar logs de Maven arriba"

# Configuraci√≥n de notificaciones
notifications:
  email:
    recipients:
      - alexpardox@gmail.com
    on_success: change
    on_failure: always

# Ramas a incluir
branches:
  only:
    - main
    - develop
